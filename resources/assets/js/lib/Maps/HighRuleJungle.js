import GameConsts from 'lib/GameConsts'
import KillCurrentPlayer from '../KillCurrentPlayer.js'
import CreateSpawnPointVisuals from '../CreateSpawnPointVisuals'

const WORLD_WIDTH = 6000
const WORLD_HEIGHT = 2975

const POLYGON_POINTS = [
  [
    [2740, 2585],
    [3147, 2586],
    [3156, 2742],
    [3148, 2833],
    [3187, 2973],
    [2706, 2973],
    [2736, 2891]
  ],
  [
    [1436, 2228],
    [2218, 2229],
    [2219, 2306],
    [2221, 2353],
    [2495, 2355],
    [2497, 2401],
    [2504, 2570],
    [2496, 2607],
    [2476, 2613],
    [2451, 2645],
    [2427, 2624],
    [2362, 2609],
    [2341, 2656],
    [2324, 2638],
    [2285, 2643],
    [2272, 2675],
    [2235, 2630],
    [2133, 2626],
    [2118, 2638],
    [2095, 2620],
    [1683, 2628],
    [1640, 2555],
    [1612, 2554],
    [1534, 2467],
    [1438, 2277]
  ],
  [
    [2477, 1951],
    [2751, 1949],
    [2755, 1803],
    [2976, 1800],
    [2990, 1653],
    [2989, 1524],
    [3245, 1522],
    [3238, 1432],
    [3225, 1419],
    [3223, 1373],
    [3229, 1353],
    [3226, 1218],
    [3514, 1217],
    [3512, 1289],
    [3499, 1305],
    [3503, 1413],
    [3511, 1451],
    [3537, 1512],
    [3915, 1512],
    [3914, 1455],
    [4200, 1453],
    [4199, 1526],
    [4442, 1526],
    [4465, 1516],
    [5236, 1515],
    [5237, 1494],
    [5577, 1493],
    [5578, 1549],
    [5582, 1611],
    [5532, 1670],
    [5524, 1694],
    [5502, 1665],
    [5417, 1696],
    [5404, 1683],
    [5382, 1694],
    [5365, 1746],
    [5352, 1732],
    [5334, 1817],
    [5313, 1806],
    [5250, 1877],
    [5112, 1900],
    [4984, 2009],
    [4945, 1989],
    [4875, 2116],
    [4723, 2152],
    [4698, 2191],
    [4654, 2156],
    [4616, 2162],
    [4598, 2198],
    [4552, 2157],
    [4483, 2171],
    [4453, 2132],
    [4564, 2159],
    [4482, 2171],
    [4451, 2134],
    [4381, 2139],
    [4348, 2114],
    [4203, 2166],
    [4189, 2240],
    [4157, 2195],
    [4064, 2163],
    [3975, 2152],
    [3863, 2200],
    [3845, 2238],
    [3680, 2164],
    [3598, 2199],
    [3592, 2214],
    [3570, 2180],
    [3404, 2167],
    [3382, 2193],
    [3359, 2178],
    [3304, 2202],
    [3268, 2248],
    [3250, 2190],
    [3217, 2158],
    [3138, 2168],
    [3110, 2161],
    [3083, 2169],
    [3036, 2152],
    [2926, 2146],
    [2898, 2170],
    [2809, 2158],
    [2983, 1801],
    [2813, 2161],
    [2779, 2173],
    [2762, 2222],
    [2729, 2154],
    [2707, 2151],
    [2683, 2129],
    [2651, 2132],
    [2545, 2157],
    [2529, 2187],
    [2500, 2137],
    [2483, 2104],
    [2478, 2053],
    [2461, 2037],
    [2476, 2000]
  ],
  [
    [4971, 1194],
    [5258, 1194],
    [5258, 1219],
    [5050, 1220],
    [4972, 1202]
  ],
  [
    [4972, 887],
    [5260, 887],
    [5258, 911],
    [4972, 912]
  ],
  [
    [4231, 1176],
    [4475, 1177],
    [4477, 1196],
    [4232, 1196]
  ],
  [
    [1707, 1312],
    [1946, 1312],
    [1946, 1269],
    [1952, 1252],
    [2097, 1249],
    [2112, 1230],
    [2121, 1206],
    [2131, 1237],
    [2152, 1250],
    [2195, 1249],
    [2209, 1233],
    [2214, 1240],
    [2224, 1250],
    [2244, 1249],
    [2264, 1229],
    [2270, 1188],
    [2294, 1239],
    [2305, 1249],
    [2388, 1250],
    [2403, 1231],
    [2405, 1216],
    [2411, 1214],
    [2439, 1250],
    [2507, 1249],
    [2514, 1241],
    [2525, 1238],
    [2545, 1205],
    [2555, 1186],
    [2558, 1206],
    [2563, 1232],
    [2589, 1239],
    [2600, 1238],
    [2611, 1229],
    [2630, 1241],
    [2642, 1243],
    [2643, 1250],
    [2787, 1251],
    [2786, 1325],
    [2768, 1354],
    [2771, 1396],
    [2762, 1419],
    [2765, 1468],
    [2737, 1508],
    [2686, 1519],
    [2656, 1547],
    [2648, 1584],
    [2635, 1566],
    [2600, 1591],
    [2593, 1607],
    [2587, 1597],
    [2564, 1606],
    [2564, 1607],
    [2556, 1626],
    [2544, 1617],
    [2458, 1654],
    [2453, 1692],
    [2439, 1664],
    [2394, 1710],
    [2327, 1794],
    [2268, 1794],
    [2244, 1803],
    [2212, 1789],
    [2170, 1785],
    [2138, 1795],
    [2137, 1795],
    [2091, 1853],
    [2026, 1796],
    [2008, 1825],
    [1989, 1785],
    [1988, 1785],
    [1898, 1798],
    [1882, 1832],
    [1854, 1779],
    [1830, 1799],
    [1819, 1784],
    [1766, 1790],
    [1740, 1830],
    [1698, 1788],
    [1712, 1694],
    [1711, 1630],
    [1716, 1591],
    [1677, 1616],
    [1663, 1586],
    [1645, 1578],
    [1633, 1602],
    [1613, 1551],
    [1702, 1547],
    [1706, 1415]
  ],
  [
    [1957, 820],
    [2768, 818],
    [2779, 821],
    [2787, 836],
    [2789, 866],
    [2794, 918],
    [2773, 929],
    [2753, 954],
    [2734, 921],
    [2693, 909],
    [2681, 923],
    [2629, 904],
    [2597, 954],
    [2563, 930],
    [2489, 912],
    [2446, 941],
    [2418, 917],
    [2345, 923],
    [2337, 938],
    [2299, 961],
    [2279, 937],
    [2255, 923],
    [2246, 922],
    [2239, 928],
    [2222, 917],
    [2168, 929],
    [2151, 917],
    [2122, 910],
    [2096, 921],
    [2086, 936],
    [2078, 945],
    [2068, 928],
    [2055, 917],
    [1999, 922],
    [1984, 896],
    [1972, 897],
    [1963, 907],
  ],
  [
    [315, 1369],
    [1166, 1367],
    [1166, 1313],
    [1367, 1312],
    [1367, 1390],
    [1374, 1458],
    [1367, 1503],
    [1372, 1546],
    [1363, 1588],
    [1373, 1713],
    [1383, 1725],
    [1489, 1726],
    [1489, 1772],
    [1485, 1780],
    [1487, 1816],
    [1481, 1834],
    [1448, 1863],
    [1441, 1883],
    [1438, 1901],
    [1422, 1874],
    [1393, 1865],
    [1362, 1868],
    [1345, 1877],
    [1339, 1880],
    [1335, 1884],
    [1315, 1864],
    [1309, 1866],
    [1299, 1904],
    [1280, 1860],
    [1259, 1863],
    [1252, 1876],
    [1244, 1867],
    [1229, 1861],
    [1212, 1872],
    [1192, 1869],
    [1180, 1863],
    [1150, 1877],
    [1124, 1861],
    [1103, 1866],
    [1086, 1883],
    [1078, 1897],
    [1056, 1855],
    [1047, 1843],
    [1006, 1726],
    [988, 1725],
    [972, 1719],
    [955, 1757],
    [922, 1705],
    [904, 1706],
    [896, 1691],
    [895, 1661],
    [867, 1606],
    [827, 1585],
    [806, 1618],
    [776, 1614],
    [760, 1590],
    [759, 1590],
    [749, 1588],
    [739, 1607],
    [733, 1604],
    [726, 1591],
    [700, 1597],
    [695, 1616],
    [682, 1594],
    [675, 1594],
    [670, 1606],
    [652, 1585],
    [636, 1582],
    [617, 1592],
    [616, 1592],
    [581, 1580],
    [570, 1583],
    [558, 1596],
    [536, 1575],
    [509, 1574],
    [510, 1574],
    [486, 1596],
    [461, 1579],
    [453, 1579],
    [442, 1587],
    [432, 1619],
    [417, 1571],
    [403, 1581],
    [379, 1570],
    [361, 1572],
    [352, 1583],
    [326, 1550],
    [314, 1469],
  ],
  [
    [1359, 1312],
    [1766, 1312],
    [1779, 1315],
    [1707, 1315],
    [1365, 1316],
    [1352, 1316],
  ]
]

export function preload () {
  this.game.load.image('background', '/maps/high-rule-jungle/background.png', true)
  this.game.load.image('bridge', '/maps/high-rule-jungle/bridge.png', true)
  this.game.load.image('tower-rail', '/maps/high-rule-jungle/tower-rail.png', true)
}

export function createOverlays () {
  this.bridge = this.game.add.sprite(1313, 1240, 'bridge')
  this.towerRail = this.game.add.sprite(4230, 1140, 'tower-rail')
}

export function create () {
  this.game.world.setBounds(0, 0, WORLD_WIDTH, WORLD_HEIGHT)
  this.game.add.tileSprite(0, 0, WORLD_WIDTH, WORLD_HEIGHT, 'background')

  window.RS.groundPolygons = this.game.add.group()
  this.game.arcadePolygons.enableGroup(window.RS.groundPolygons, POLYGON_POINTS, this)

  if (GameConsts.DEBUG) CreateSpawnPointVisuals.call(this, GameConsts.MAP_SPAWN_POINTS.HighRuleJungle)
}

export function update () {

}
