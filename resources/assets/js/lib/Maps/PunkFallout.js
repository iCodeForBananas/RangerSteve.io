import GameConsts from 'lib/GameConsts'
import CreateSpawnPointVisuals from '../CreateSpawnPointVisuals'

const WORLD_WIDTH = 3600
const WORLD_HEIGHT = 2280

const polygonPoints = [
  [
    [504, 767],
    [504, 695],
    [527, 672],
    [768, 671],
    [815, 623],
    [984, 623],
    [1032, 671],
    [1273, 672],
    [1294, 695],
    [1295, 767],
    [1272, 790],
    [1031, 791],
    [960, 720],
    [840, 720],
    [769, 791],
    [528, 790]
  ],
  [
    [503, 1007], [504, 933], [526, 913], [742, 911], [742, 1031], [528, 1032]
  ],
  [
    [1056, 911], [1271, 911], [1294, 936], [1295, 1007], [1272, 1031], [1054, 1033]
  ],
  [
    [480, 1271],
    [480, 1245],
    [504, 1223],
    [552, 1223],
    [574, 1199],
    [696, 1199],
    [720, 1223],
    [745, 1222],
    [792, 1271],
    [1032, 1269],
    [1078, 1224],
    [1224, 1222],
    [1270, 1269],
    [1272, 1367],
    [1056, 1583],
    [1056, 1630],
    [1009, 1631],
    [984, 1654],
    [864, 1654],
    [838, 1631],
    [794, 1631],
    [791, 1582]
  ],
  [
    [1720, 443],
    [1738, 423],
    [1759, 415],
    [1787, 425],
    [2465, 425],
    [2498, 417],
    [2523, 421],
    [2543, 441],
    [2543, 529],
    [2537, 530],
    [2501, 509],
    [1764, 508],
    [1730, 530],
    [1721, 529]
  ],
  [
    [1678, 1319],
    [1703, 1295],
    [1966, 1295],
    [2158, 1106],
    [2543, 1105],
    [2639, 1201],
    [2733, 1201],
    [2734, 1247],
    [2687, 1297],
    [2687, 1511],
    [2734, 1558],
    [2735, 1630],
    [2447, 1630],
    [2374, 1558],
    [2208, 1559],
    [2136, 1629],
    [1656, 1631],
    [1583, 1561],
    [1415, 1559],
    [1343, 1629],
    [1200, 1629],
    [1201, 1582],
    [1462, 1321]
  ],
  [
    [0, 0],
    [189, 0],
    [192, 1079],
    [238, 1125],
    [240, 1296],
    [550, 1607],
    [551, 1799],
    [671, 1920],
    [671, 2016],
    [696, 2039],
    [910, 2039],
    [936, 2015],
    [936, 1919],
    [1030, 1823],
    [1128, 1824],
    [1175, 1775],
    [1488, 1775],
    [1536, 1823],
    [1727, 1824],
    [1752, 1847],
    [2064, 1847],
    [2087, 1825],
    [2303, 1823],
    [2351, 1778],
    [2495, 1777],
    [2544, 1825],
    [2712, 1824],
    [2735, 1848],
    [2735, 1895],
    [2616, 2017],
    [2616, 2208],
    [2640, 2233],
    [2974, 2230],
    [2998, 2207],
    [3000, 2017],
    [2879, 1897],
    [2879, 1847],
    [2901, 1823],
    [3119, 1824],
    [3166, 1776],
    [3263, 1776],
    [3312, 1824],
    [3382, 1823],
    [3408, 1798],
    [3407, 1585],
    [3382, 1559],
    [3240, 1559],
    [3168, 1630],
    [2880, 1631],
    [2879, 1559],
    [2927, 1510],
    [2927, 1297],
    [2880, 1249],
    [2879, 1199],
    [2974, 1200],
    [3070, 1103],
    [3309, 1103],
    [3310, 0],
    [3600, 0],
    [3600, 2280],
    [0, 2280]
  ]
]

export function preload () {
  this.game.load.image('background', '/maps/punk-fallout/background.png', true)
}

export function create () {
  this.game.world.setBounds(0, 0, WORLD_WIDTH, WORLD_HEIGHT)
  this.game.add.tileSprite(0, 0, WORLD_WIDTH, WORLD_HEIGHT, 'background')

  window.RS.groundPolygons = this.game.add.group()
  this.game.arcadePolygons.enableGroup(window.RS.groundPolygons, polygonPoints, this)

  if (GameConsts.DEBUG) CreateSpawnPointVisuals.call(this, GameConsts.MAP_SPAWN_POINTS.PunkFallout)
}
